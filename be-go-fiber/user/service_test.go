package user_test

import (
	"context"
	"database/sql"
	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/mock"
	"taskita/user"
	"testing"
	"time"
)

func Test_service_Register(t *testing.T) {
	repository := new(mockRepository)
	service := user.NewService(repository)

	t.Run("should failed to hash password", func(t *testing.T) {
		input := user.RegisterRequest{
			Name:     "M. Iqbal Effendi",
			Email:    "iqbaleff214@gmail.com",
			Password: "IðŸ« am going to do it. I have made up my mind. These are the first few words of the newâ€¦ the best â€¦ the Longest Text In The Entire History Of The Known Universe! This Has To Have Over 35,000 words the beat the current world record set by that person who made that flaming chicken handbooky thingy. I might just be saying random things the whole time I type in this so you might get confused a lot. I just discovered something terrible. autocorrect is on!! no!!! this has to be crazy, so I will have to break all the English language rules and the basic knowledge of the average human being. I am not an average human being, however I am special. no no no, not THAT kind of special ;). Why do people send that wink face! it always gives me nightmares! it can make a completely normal sentence creepy. imagine you are going to a friendâ€™s house, so you text this: [ see you soon ðŸ™‚ ] seems normal, right? But what is you add the word semi to that colon? (Is that right? or is it the other way around) what is you add a lorry to that briquettes? (Semi-truck to that coal-on) anyway, back to the point: [ see you soon ðŸ˜‰ ]THAT IS JUST SO CREEPY! is that really your friend, or is it a creepy stalker watching your every move? Or even worse, is it your friend who is a creepy stalker? maybe you thought it was your friend, but it was actually your fri end (let me explain: you are happily in McDonalds, getting fat while eating yummy food and some random dude walks up and blots out the sun (he looks like a regular here) you canâ€™t see anything else than him, so you canâ€™t try to avoid eye contact. he finishes eating his cheeseburger (more like horseburgher(I learned that word from the merchant of Venice(which is a good play(if you can understand it(I can cause I got a special book with all the words in readable English written on the side of the page(which is kinda funny because Shakespeare was supposed to be a good poet but no-one can understand him(and heâ€™s racist in act 2 scene1 of the play too))))))) and sits down beside you , like you are old pals (youâ€™ve never met him before but he looks like he could be in some weird cult) he clears his throat and asks you a very personal question. â€œcan i have some French fries?â€ (I donâ€™t know why there called French fries when Iâ€™ve never seen a French person eat fries! all they eat it is stuff like baguettes and crÃªpes and rats named ratty-two-ee which is a really fun game on the PlayStation 2) And you think {bubbly cloud thinking bubble} â€œHahahahahhahahahahahahahaha!!!!!!!!!!!! Hehhehehehehâ€¦..heeeheehe..heheâ€¦ sigh. I remember that i was just about to eat one of my fries when I noticed something mushy and moist and [insert gross color like green or brown] on the end of one of my fries! now I can give it to this NERD!! â€ (yes he is a nerd because all he does all day is watch the extended editions of the hobbit, lord of the rings and star wars and eat fat cakes (what the heck is a fat cake? I think it might be like a Twinkie or something)and twinkies(wow so is doesnâ€™t really matter which is which because he eats both(i may have just done that so I didnâ€™t have to Google what a fat cake is (right now I am typing on my iPhone 3gs anyway, which has a broken antenna so i canâ€™t get internet anyway (itâ€™s actually a really funny story that iâ€™ll tell you sometime)))and sit in his man cave with his friend named Joe (an ACTUAL friend, not a fri end)and all Joe does is watch sports like football with bob and all bob does is gamble ferociously (donâ€™t ask(it means he buys all those bags of chips that say â€œwin a free monkey or something if you find a banana in your bag*â€(if there is a little star it means there is fine print so I always check the back of the package) *flips over the package* okay, it says: â€œone of our workers accidentally threw a banana in the packing machine and we donâ€™t want to get sued so we did this promotion thingâ€ cool. Oh wow, this is salt and vinegar! my favourite! i hate cheese and onion.))and thatâ€™s pretty much his life, he lives in Jamaica with Naruto and his friends) so you give him that gross fri end he throws up all over you and me and the worker behind the counter who was still making an onion, and THAT is the story of the fri end, not a friend who somehow remembered your name and your phone number / email so he could text you saying he would come to your house soon. *finally takes a breath after typing a few hundred words about fri-ends* so what now? i know, i know, you think i ramble too much and use too many brackets (i donâ€™t) but now i am going to talk about my amAZEing day. first i woke up, ate choco pops for breakfast even tho i always hate it when people say that cause i get jealous and super hungry. then iâ€¦ ummâ€¦ yea! that was my day. you know that other person i mentioned before? that flaming chicken person? WELL. i will steal something from that person but do it better. i willâ€¦ drum roll please â€¦ badabadabadabadabadabadabummmmmmmmmmmchshchshchshchshbadabadboumboumpoopoopichypichypichypowpow-crash! *a drum roll was just playing in the background* that drumroll was so long i forget what i was talking about. *scrolls up to see what he was writing about* oh yea! i will make my own FLAMING CHICKEN HANDBOOK! what things do i like? instead of flaming it could be rainbow, instead of chicken it could be fluffysheep and instead of handbook it could be handbook (not very creative, i know) but the total complete name is now to rainbow fluffysheep handbook! to make life easier for you guys, instead of taking random rules out of book willy nilly, i will take them out using my favourite numbers! so, section 5040 of the rainbow fluffysheep handbook states that the king of all oddly coloured farm animals (thats me!) is allowed to tell you any part out of this book randomly or if it is his one of his favorite numbers! 5040 is a great number because it is divisible by 60 integers which i donâ€™t know. iâ€™m tired. it is 10:41 and i am getting sleepyâ€¦ hey hey hey! an intruder! remember that from pokepals rulers of time and darkness or something like that! with piplup and sunflora and chimchar! whaoh piplup is really hard to write on a tiny qwerty keyboard! try it! i realised that asdf is actually written in order on the qwerty keyboard! (just in case you didnâ€™t know, asdf is an amazing short video clips cartoony thing on youtube i first learned bout on flipnote hatena, which is now shut down ðŸ˜¦ ) what if one day they get rid of the qwerty keyboard completely! i will type it out for you just in case one day they get rid of it. qwertyuiopasdfghjklzxcvbnm. there u go. Goodbye. Iâ€™m back! i decided that i should tell you about fonts. i always used the same font for my whole life, called arial. the reason is probably because it is on the top of the list in alphabetical order, and i was too lazy to scroll all the way down. only a few months ago did i finally decide to change my mind. i scrolled for what seemed to be an eternity, and i finally got toâ€¦ are you ready â€¦ arial black. yep, that was my big SCROLLING ADVENTURE! just yesterday, i was typing something on google docs and i found the new best font : roboto. its great! i could choose from FIVE different thicknesses. isnâ€™t that amazing? right now we are driving behind a really slow â€œfarm plastics collectionâ€ semi. i think i know someone obsessed with pokemon, but i canâ€™t tell you who it is. he keeps making pokepals references and stuff. wow! you are a very loyal reader! if you have REALLY made it this far then youâ€¦ get a gold star on your loyalty chart! good job! this is looking to be the longest text ever, considering that this was all written in one day. i donâ€™t understand sandwiches. if you were to eat bread, mayo and tomatoes separately it would be disgusting! you know all those fancy magazines/restaurants that always have really fancy food pictures with meat and brussels sprouts and all the old people say â€œwow! that looks great!â€ and you think {bubble thing} â€œit looks like the worst thing anyone could ever eatâ€ and the you eat it and it tastes surprisinglyâ€¦ WORSE than you imagined! gotta goâ€¦ im back! ive ive got stuff to say! your probably thinkingâ€¦ HoW DoEs He HaVe So MuCh FrEe TiMe?!?! And the answer isâ€¦ i donâ€™t. thatâ€™s right. this isnâ€™t just some SIDE project. iâ€™ve gotta make time to do this if wanna get the world record. for all i know, the flaming chicken opponent who i will refer to from now on as sam (i donâ€™t know why) is probably still adding to her posts. (i think i picked sam because it sounds like ham which is like cooked meat and so is flaming chicken, so you will remember that now ) i am officially going to make a quote from the rainbow fluffysheep handbook of knowledge and prestige (sounds catchy, huh?) . section 777 of the rainbow fluffysheep handbook STATES that the king of oddly colored farm animals (thats me!) is allowed to use whatever font he wants to. [now, i know what your thinking reader, that has nothing to do with anything. but it will come in handy someday (maybe)] sam makes me feels sick! im offended! (probably because iâ€™m jealous of how much is written on that website(i dont even know how to make a website)) Iâ€™VE JUST BEEN READING THIS AND I HAVE DISCOVERED A CONSPIRACY! THATâ€™S RIGHT, I AM WORKING FOR DOCTOR SUESS! YES! i will prove it to you. i mentioned ham and sickness so green eggs and ham somehow! (why is he called doctor suess anyway? heâ€™s not even a doctor *citation needed* and his books are kinda dumb! (funny considering iâ€™m the one making that statement)) talking about eggs, arenâ€™t eggs practically unborn chicken membrane? wouldnâ€™t it be scary if you were casually eating your brembudder (riotous robots reference (wow! serious compilation of alliteration dedication!)) and drinking your tae witâ€™ da guvâ€™na (england doesnâ€™t even have a govna! *citation needed*)(iâ€™m not even racist iâ€™m just quoting an accent of a race) and you go to crack an egg for your brekkie and BOOM! and unborn chicken embryo starts running towards you, picks up a knife and starts screaming â€œMAMA! MAMA!â€ you are so scared that you grab the nearest weaponry (a spoon) and poke the hideous beast. it is unaffected. luckily, the govener of Berwick-Upon-Tweed throws a sugar cube directly into the chicks mouth! as you know, sugar is EXTREMELY poisonous to chicken embryos *citation needed* (no more citations!) and you are saved! iâ€™m sick and tired of citations! i will quote from the official rainbow fluffysheep handbook! section 12345679 (all the mathematicians are nodding their heads while the OCD people are twitching nervously in the corner) says that the king of oddly coloured farm animals does not have any obligation to write if a false piece of information needs a citation. great! now i feel like a free person! free i tell you, free! free from the prison cell i call the boundaries of untrue info. i think since im going to be the president of somewhere someday, i should have great speech here it goes: Hello great people of [name of place]! i am here to tell you; I am going to make [name of place] great again! i am going to lower taxes, but increase happiness! i am going to buy dog sweaters and bowls for people with dogs, and do some renovations on peoples tents! yes, this truly is a new era, the era of Epicness And Coolness! {and so, his tale lived on forever, being passed on generation to generation, living vividly in the hearts of the people.(that last bit sounded like the ending of an Asterix comic.)} i will now PROVE that all these things can happen. the first thing i said was that i will make America (i know, i know, i gave it away and told you the name) place grape again. (yes, that is what i said, bear with me here) i hereby DECLARE that every piece of American soil must be covered in vineyards. someone told me i should do that. i think i heard it through the grapevine (bad jokethat nobody understands) the next step is to lower taxes and raise happiness. to lower taxes i will get rid of all hospitals, and spend the taxes all on building fun playgrounds. this in turn, raises happiness (for the kids and for the non-injured if you know what i mean). finally, i will buy dog sweaters (on sale at your local liquidation world!) and dog bowls (just use little human bowls maybe?) and last but not least i will do renos on peoples tents (send chip and joanna from Fixer Upper to all the camping places). and, since all i said was (partial) truth, it will be a great era. anyway, gotttttttttttaaaaaaa ggggoooooo. bbbbbuuuuuuyyyy! im back. i just had thanksgiving while listening to christmas music and it was fun. we had bacon, ham and chicken but no turkey. its fall, but itâ€™s ACTUALLY winter secretly. im watching a funny show. iâ€™m back (even though i never said i was gone so you might be confused) hello loyal reader! if you have gotten this far without SKIMMING THROUGH then you are probably either lying, extremely bored (but not after reading this whole thing!) or VERY and i mean VERY dedicated. or all three. you know those homeless people that sit on the ground and ask for money? i think its all a conspiracy! after all, uow can they afford those dogs, sharpies, cardboard and enough english education to write â€œneed helpâ€? back in the roman times, only the richest, most important people could get things like that! you know the new fad, â€˜black surfboardsâ€™? (neither did i until 15 seconds ago) someone related to me thinks they look really cool, i think they are neat but SOMEONE also related to me thinks they are bad because they would get warped. someWHERE ohohohohohohover the rainbowwwwww that reminds me, i was doing my normal thing, when BOOM! i started typing NONSENSE. so here it is, but be warned. its SCARILY NONSENSICAL. HeRe GoEs: The Epicness â€“ Hi how are you? Smells good ya! Think about that buddy (shower time) heheheheHAHAHA well thanks a lot so called buddy. Random things: joe be utterly hatin. Dat be da bomb â€“ Tink about tanking me. Interview: how does Joe like his pepperoni? â€œI be liken how I always eat it.â€ What first comes to Bobbyâ€™s mind when I say flabbergast? I donâ€™t know, Flapper dress maybe that be it (20s style) hey dere ma-name JeFfâ€¦ Hell Ome Ine Ame Isej oe hey hey hey! an intruder! (DID U NEVER WATCH POKÃ‰PALS?!?! im offended.) ANYHOO, the cattle hopped above the earth orbiting asteroid (a TWIST on an old tale) Are you OCD? Then donâ€™t read anymore: :):):):):):):):):):);):):):):):) OR: 8)8)8)8)8)8)8)8)9)8)8)8) (I Know Itâ€™s Annoying} ocd&gmail.com [i annoyed you again) â€”A Nice Storyâ€” {one day an old man said yonder} heyyyyyyy ðŸ˜‰ (WHY DID HE WINK AT ME ITâ€™S SO CREEPY) {the old man continued} hellllloooooo there young laddddiiee boyyyy (I NEED TO GET AWAY FROM THIS MAN) i think Iâ€™veâ€¦ SEEN YE ARE OUND BAE FAR HAVANT AYE? ðŸ˜‰ (TAKE ME AWAY FROM THIS HIDEOUS BEAST YOU CALL A MAN! I WAS ONCE A HAPPY BOY, AND THEN HHHEEE STARTED TALKING!!!?!?!?! THIS IS UNNNNNACCEPTABLE!! :):):):):):):) mwahahaha! ðŸ˜‰ MY ATTACK PLAN IS READY!) {THIS IS WHAT HAPPENED} ðŸ˜‰ kills -> ðŸ™‚ â€”The Endâ€” Today is the day of justice. Today the world will be DESTROYED! Mwahahahah! Someday the whole peanut of existence will be chipped into The Edge. But then again, maybe it will be forever remembered as the one who saved the mintrolls from the mighty Orc king, and the one who was forever changed; transformed into a giant floating peanut. hello itâ€™s me i was wondering if after all these years you would like to meet -> hey chow gotta beat chow gotta beat chow Hey HEY____________________W W W W W[]_____/\\__<>___/\\_____ GEOmetry DAESH One day i want to fie to da MOOOOOON!! aheyhayhoy. soametime the sky looke BLOOE, but it actually YALLOE. af yow cane andarstend dis santanse dan yowr umaizang. somedaaaaaaaaaaaaaay, OVer theRAINBOW, WAY UP HI,Oeâ€™r da skie -> @,|3,[,|),Â£,|=,â‚¬,|-|,|,7,|<,|_,/\\/\\,/\\/,[],|*,0-,|~,$,-|-,\\_/, \\/,\\/\\/,}{,Â¥,%. |-|Â£||[], /\\/\\Â¥ /\\/@/\\/\\Â£ |$ |3[]|3|3Â¥. | @/\\/\\ \\/\\/|~|-|-|/\\/â‚¬ |/\\/ @ $Â£[|~Â£-|- [[]|)Â£ []/\\/|Â¥ @ |-|\\_//\\/\\@/\\/ [@/\\/ \\_//\\/|)Â£|~$-|-@/\\/|). That was it. i know what your thinking (i think i do at least) but iâ€™m not going to tell you. BURNED! HAHAHAHAHAHAHAHA FEELS THE BURN! sorry, i had to much sugar ðŸ™‚ gotta go you know bro do. Iâ€™m back! and i gotta new conspiracy for u! you know how EVERY child hates brussels sprouts! this is why i think so. Brussels sprouts were happily growing in their belgiumy home. everyone loved them! they were the chicken nuggets of the vegetable world. when suddenlyâ€¦ DA DADA DA! Hitler comes to Belgium (dont read this if you donâ€™t want to. hitler was happily taking over Austria and Poland when he then decided to take over France but France built a big wall thing to keep him out on the border between france and Germany so all Hitler did was go through Belgium to get to France and THAT is when our story is taking place.) and he makes all the brussles sprouts taste bad simply because he is near them! the Mulligan family is about to go to McRonalds and order 43 brussels sprouts (you would have to have been paying very close attention and know some math to understand that joke) and when they get them (after lots of quarrels with the manager (a bit of a parker square if you ask me (you probably donâ€™t understand that either(if you want to feel like you know all these inside jokes, just look em up on the web! your sure to find the videos made by lumberpile(close enough))))) they taste so bad you throw up everywhere! Hitler may have caused WWII, but he also caused brussels sprouts to taste bad. so there you go. why do they always write WWII? (if you canâ€™t tell, they always write double-u double-u eye eye) wouldnâ€™t it be more accurate to write WW11 or WW2? If i keep writing at this rate, iâ€™ll beat the world record in no time! i might even print it all off and write a novel! too bad i probably donâ€™t have any readers. hello there non existent reader! i hope you are having fun. and i hope you are not injured cuz of that whole â€˜no hospitalsâ€™ conundrum. what else should i talk about? how bout Minecraft? just in case you donâ€™t know, Minecraft is a fun game where you place blocks and stuff and you play with friends and most people who play it are like 10 years old but I not and i still have fun and you canâ€™t judge me because I wanna be an engineer and if I wanna be an engineer then i should probably not waste my time playing games wow that went downhill from benefitting me really quickly. Anyway, I prefer the Redstone side of things (Redstone means wiring and stuff). I build stuff like 5 piston extenders and auto wall builders and calculators and computers (not those stupid computers that use command blocks (just in case you donâ€™t know people, command blocks are like CHEATING THINGS and if I am talking about them i will probably not be happy)) and stuff cause i wanna be an inventor. I also do c++ and make things like search engines, text adventures and cookie clickers! My current BIGGEST project is 600 lines long and I donâ€™t know if thatâ€™s a lot but it sure seems like it to me! (when I was typing in the word lines it auto corrected it to â€˜liesâ€™) whatâ€™s with the whole naming appliances fad going on? (There isnâ€™t really one) like that vacuum named â€˜Henryâ€™ that I have. I have the box here and it says on it it can twist the top part which I never knew before! I just woke up but the anticipation of whether this whole Henry twist bit this is true is killing me and I think I might wake up just to see if its true. Nahhhhhhhhhhh! This text is getting so long itâ€™s getting laggy just typing on the same notes on my phone! I gotta start a new one. See you in another life, brother (Desmond in Lost reference). iiitttttttttsssss Johnny! Iâ€™m someone mcmann and today we are taking with bee mc wasp. *clapclapclapclapclapapplauseapplauseonelonelymaninthebackscreamsbecausehegotlosthewastryingtogettonemotheclownfishmoviebutnowthereisagiantbeeslashwasprightthereandheisreallyscared* Thank you, thank you! Now, mister Bee, what you do all day long? Well Iâ€™ve gotta say Johnny that all i do is spend 14 hours a day eating and then spitting what I just ate into a residential area! Wow, that sound like my great aunt large (i typed in Marge but it auto corrected)! *Laughterlaughterapplause* Then what happens to that SPICY MILK?(Jim Gaffigan) Itâ€™s actually not milk, Johnny that regurgitated blob is then stolen from us and eaten by people! wellâ€¦ Thatâ€™sâ€¦. Amazing. *suddenly feels nauseous* Well *blech* itâ€™s time for a *hurl* commercial break. Yes, real breaks! (Every commercial is about breaks)*** (fake Bronx accent) do you like twinkies!?!? Yeaaaaaaaa! Do you like roast turkey! Yeaaaaaaaaa! Then try the all new exclusive limited time only in a store near youâ€¦ (Anticipation is building up more then the mould in my bathroom) The kit kat turkatwinky! It is beautifully tasty *citation needed* ! Have a break, have a twinkiturkey [its the other way around, I think] â€¦Next Commercialâ€¦ (Annoying Hawaiian music) do you wanna go on a holiday (more music) then take a trip to (calm music that goes like â€˜bowawawohâ€™) (sudden intense heavy rock) HAWAIYA! You can do great things likeâ€¦ Get eaten by sharks, fall in volcanos and get lost and sea! Buy tickets now for only e = mc^2 easy payments of a=2b +- _|2c -4abâ€”3c! [(man in background) ummm bob? â€¦ Yeap? â€¦ (Japanese) Det idit na codect spaech â€¦ Oh, weâ€™ll weâ€™re out our air time, soooooooâ€¦] {kshshshshsh} -Next Commercial- has THIS ever happened to you? You are up to your normal everyday antics whenâ€¦ BOOM! HAHAHAHAHAHAHAHA! Your crash and BREAK your brand new 2004 ford mustang bike! Itâ€™s actually a tooth ow sand ant fore fjord moose tangy (a painful white mouth bone small ground up rock little hill building insect golfing safety viking ravine big deer sour patch kid bike) and didnâ€™t have insurance! Buy some right now for only â‚¬1 a month (talks really fast) warning: not actual â€˜insuranceâ€™, itâ€™s actually â€˜inch your antsâ€™ which is a bag of inchworms and ants this company is not responsible for deep regret after purchases*** (clapclapclapclapclapapplauseapplause) Welcome back to AHAGAHAGGGHGHGHGHGGG!!!!!! [(sound over intercom) emergency -emergency! everyone evacuate!! Go go go!!] {you ask someone while running away} what happened!! (Man is panting and very tired (waitâ€¦ He looks oddly familiarâ€¦)) the bee/wasp thingâ€¦ It is stinging people! ðŸ˜‰ I knew it! Itâ€™s my fri end!?!? this whole thing is going down in an infinite spiral of nonsensical blubber! {poof} wow! That was a fun dream! That was my stuff today. Gotta go! Iâ€™m back! Someone related to me is making a huge campfire in our mudroom using only a tealight and matches! Itâ€™s sparkingâ€¦ And fizzingâ€¦ And poof! {the room is filled with smoke and out of it walks a tall bearded man} hello there! You must be Bilbo Baggins, reader! Have you come to kill Smaug, the Fire Dragon? Or as Sauron would put it: ???????? (Yes, I speak Japanese, another random surprise DESTINED FOR GREEEEEAAAAATTTTTNEEESSS!) bochebobochebobocheedoooooooox2 CiTy Of StArS! I KNOW YOUâ€™RE SHININNG FOR ME SITTIE UV SHTARS! I know your shinin just fore meyyyyyyy (lalalalalalalalaland won the oscars slash awards stuff and then they didnâ€™t i think in 2017 heheheheheheheheheheheh) ***THIS IS A PUBLIC SERVICE ANOUNCMENT: i am not in a very good mood and my writing may be affected *** whatâ€™s up with SPRAY CHEESE! Like what the heck! Its like cheese but like in like a can!!! What is wrong with people! What was that person inventor of cheese in a bottle person thnminh! (ummmâ€¦ Figure it out) he was like what the hey I want cheese but I donâ€™t want cheese that comes in hard form cause then it is weird so if it comes in liquidy form then it seems more like real milk so its less FAKE! *Wheeze* Cheese is a Breeze *achoo!* (if you canâ€™t figure THAT one out then you need to get your flubber out of here! (Flubber is that bouncy stuff in that movie where there is bouncy stuff that attaches to popeâ€™s shoes while they play basketball (not popes, stupid auto-correct (speaking of hard things, that reminds me of the Hardy Boys who were like magicians or something(which reminds me of sailing the DIRTY ISLAND ESPAGNOL!))))) every day Iâ€™m shuffling: heyheyheyheyheyhey gangnam style like whop whop whop whop whop whop gangnam sssstttlllyyyeeetllllyypiie! Have you ever heard the song DOWN DD DOWN DD DOWN DD DOWN DOWN DOWN? WELL IT IS A COOL SONG WITH FASCINATING LYRICS HERE IT IS TYPED BY YOUR TOOTHY: To be or not to be That is the question What is nobler in the mind Through the toils of slings and arrows Of great fortune And when i slept i had a dream A dream of great sorrow And i will have that dream At least until tomorrow! UMMâ€¦ WRONG ONEâ€¦ HEHEHEHâ€¦ WELL LETâ€™S TRY AGAIN: Food & Drink: Apple (crunchy) Artichoke (chew before you swallow!) Avocado (replaces banana in cookies) Banana (replaces avocado in guacamole) Beef (burger) Beetroot (gotta good beat) Bun (for burgers) Burger (for buns) Cake (iâ€™m gonna bake a caaake) Cantaloupe (an orange melon) Carrot (an orange banana?) Chicken (donâ€™t be scared!) Dill pickle (not a gherkin) Egg (from a chicken) Eggplant (from a dead chicken turned into dirt by mushrooms) Fig (figrolls) Fish (i wish for a fish to decorate my dish) Grain (good rain) Hot sauce (frank hot sauce) Icecream (not even a real food!) Jam (not from grapes) Kebab (okay, bob) Lemon (sour orbiter (or bitter)) Melon( a green cantaloupe) Mince (beef/pie) Nut (heâ€™s crazy!) Omelette (let me take your ohms which is a currency somewhere) Paska (what the hooey is that) Pasta (makes more sense) PeanutPickle (that sounds disgusting(were those separate?)) Pie (not from grapes) Pineapple (the apple from the pine tree) Pizza (pi*z*z*a) Quiche (pronounced keesh) Radish (doesnâ€™t it look cool dude? it looks radâ€¦ish) Steak (put a wooden stake in a cow to obtain) tictac (the clock goes tick tack tick tack) Turkey (not for MY thanksgiving) Turnip (kinda like a radish) Upsidedowncake (itâ€™s the same as normal cake but upside down) Vinegar (eww) Whiskey (ewww) Wine (ewwwwâ€¦ STOP WINEING!) Yam (popeye says: i yam who i yam) Zucchini (for all the animals who live in the zookeeny) Wow! That was fun! Gotta Go Bro Yo Know! Iâ€™m back! If you have honestly made it THIS far, reader then you have just been promoted from â€˜some readerâ€™ to â€˜stable keeper of the rainbow fluffysheepâ€™. Isnâ€™t that fantamismo? Somedddaaaayyyyydf oooooohhher three rainbowfluffysheeeeeeeeeeeeeeeeeeeeeep there is hope! There is life! There are unicorns in the darkness! No more trolls! No more orcs! We are free, free from everything thatâ€™s bad! Great is the smorgasbord of a plethora of strawberries! Bootsandcatsandbootsandcatsandbootsandratsandchutesandratsandchutessandratsbandchutessandratsbanned! Yaaaaaaaa! Salut! Je mâ€™appelle francais! French is absurd, French is the word! I donâ€™t even remember typing that! Itâ€™s so late a night my eyes are bulging out of my sockets because of the brightness on my phone! Now, I know what your thinking. TURN DOWN THE BRIGHTNESS, KING OF RAINBOWFLUFFYSHEEP! I will tell you why I shall not. Because on an iPhone 3 there is no easy access to get to your brightness. Thatâ€™s for the WIMP. Iâ€™m hardcore. Thatâ€™s why I Have typed a step by step tutorial on how to change the brightness on an iphone3 for you to read, in the comfort of your own home! (Or wherever your exciting life takes you) 1. Click the button on the top right of the phone to turn it on. 2. Swipe from the left to the right on the bottom of the screen. 3. Type in your password and the phone will unlock to the home screen. 4. Click on the Settings App (Your Almost There!) 5. Click on the â€˜Brightness/Wallpaperâ€™ Tab. 6. GOOD JOB! ALL U HAVE TO DO IS SWIPE THE LITTLE BAR THINGY! thatâ€™s why I donâ€™t do that. I donâ€™t have THAT much time. I think. Halloo! Iâ€™m in London and Iâ€™m hangin out! Now Iâ€™m back though. This is extremely frightening. Whenever I type words then my phone reads it out to me. Strange.I just turned it off. Good thing too, since every time i heard it i turned around and punched the wall. Not out of fear for my life because of the impending imminent doom, but out of a pure piqued curiosity. Once you obliterate the wall once, every latter time you lose that satisfying crunch. One thing I have aspired to accomplish for a long time now is to make my own pun-themed conspiracy theory. Here goes: in section number 115132219018763992565095597973971522401 of the rainbow fluffysheep handbook (i am very proud of that number by the way(*cue all geeks Laughing hysterically*)) STATES that the shearer of greatness (whoâ€™s that again?) has proof the the solvence of the illuminati (if you solve something, would it be called an act of solvence?) and forherbyshared proclaimences all right to own half of all southern states who share barbeque preferences (none([southern dialect] it ju bring a tear to ma eye knowin tha the founding fathers fought for freedum, anâ€™ fer unitee. Ye still the states Connor decide on a preferred bar bee q sawse :()) even if he does not want them. And now gentlemen and ladies, I will prove once and for all that the illuminati â€¦ Is real. Here goes: So, as everyone knows, the illuminati is represented by the pyramid with an eye in the centre. Do you think that it is merely a COINCIDENCE that the first letter in illuminati is i, and I is pronounced â€˜eyeâ€™? I THINK NOT! Letâ€™s continue. What is the first thing you think of when you hear the word pyramid? Exactly! The first thing you think of is Egypt? Nooooo!! Itâ€™s that theyâ€™re big. Duh. So what is the first thing that you would say when seeing a pyramid? â€œWow thatâ€™s big?â€ No of course not random audience members indicated by the two line things! You would make the sounds of a mesmerised chimp, like â€œOoooohâ€ and â€œAhhhhhhhâ€. And I know how these two things are connected! What temperature would it be in Egypt? Hot, thatâ€™s what! So hot that it feels like you are cooking a pan. Ahhhhhhhhhh pan, to be precise! And what county sounds like apan? Japan? Now is it just a COINCIDENCE that that Japanese word for big is â€˜Ooâ€™? NOOO!!! These things are all connected, I just donâ€™t fully know how yet. So, we know that the answer has something to do with being big, but what? for these kind of questions, you have to work backwards. I call this method, Reverse Solvency. Anyway, what did the rich (big) people do to the poor (not big) Egyptians around the time that the pyramids were built? Exactly! They sold emâ€™ that sounds like soldier! In French thatâ€™s gendarme! Gender! Thatâ€™s what they are trying to tell us! Itâ€™s so obvious, in front of our very EYEs from the beginning! So, what gender is associated with being big! (This is gonna be slightly offensive) Males, obviously! (Iâ€™m sorry ðŸ˜¦ *audience member calls out* donâ€™t be sexist! Sorry, but you have to admit, men are usually fatter than women! â€œHey, now youâ€™re being sexist to males! We have our rights, you know!!! Chauvinists! Communists! We are great! Who insists? Communists! We will rule with hate!!! â€ ummm actually I was saying that men are fatter because back in the time of the PYRAMIDS if you were fat you were considered wealthy. â€œNow your sexist to us again! Feminists rule! Feminists are great! We are going to rule with hate!!â€ If you both want to rule with hate , just hate each other equally so this can be over with!!!! Thank you. Anyway, back to the conspiracy) Where were we? Oh yes. Men! What word has men in it? Fishermen, of course! Fishermen caught a lot of fish, and what did the Egyptians have a lot of? Gods! Fishermen used to go slow in boats, so we can remove the g forces, and we a left with â€˜odâ€™. And where are the fishermen!?!? In the sea! The â€˜câ€™! And what kind of fish do they catch? Thatâ€™s right, the â€˜Codâ€™! Now, we use are backwards method to come up with â€˜Docâ€™. As in a doctor! What does a doctor do? Helps people who are sick! But do you know what the worst thing about doctors is? You still have the pay the doctors fee even if you are not sick! And mind you, the doctors fee is quite a large bill, and I wouldnâ€™t want to go to the doctor not even for a bee sting! Alas, This is as far as I have gotten. Can anyone help me? Um yes, you? â€œYes, I was just wondering what Big, men , ooo, not bees, Bills , and sickness have to so with the Illuminati! â€ wait anonymous audience member say that again! â€œBut like, it was a lot of wordsâ€ [the writer remembers that he is not allowed to copy and paste, so he skips the dramatic scene where one character says his sentence again while the Maine character says aha! I think I got it!] â€œgot what? The flu?â€ Who the heck are you? And how did you get backstage? Security?!?! SECURITY!!!!! â€œyes sir?â€ What are you guys wearing?! â€œObviously we are wearing tiger skins, for camouflage!â€ Now I donâ€™t even have security to take all the psychopathic people in here, because my security are psychopathic themselves!!! Annnyyywwwaaayyyâ€¦ I figured it out! Bill, no bee and sick! No bee is actually no â€˜Bâ€™, the letter! The only b we have is in bill! And if you take it off, what do you get. â€œillâ€ . And what is a synonym for ill. Sick. We have gotten pretty far on our journey of solving the question of the illuminati, although we have not quite accomplished the full desired outcome yet. What did all the most important people in egypt do when they were not prosecuting the poor? They were eating, of course! And what were the poor doing in their spare time? What any law-abiding heartwarming lovely citizens would be doing? Playing Sports, of course? And where are the rich buried? In coffins like boxes. When someone dies, hey eyes turn into 24pt roboto thin-line xâ€™s in italics. Huh; box, x. An XBox of course! And what company makes sports for an Xbox? Electronic arts. Weâ€™ve all heard of â€˜E A Sports. Itâ€™s In The Game.â€™.if the rich are â€˜eatâ€™ and the poor are â€˜eaâ€™ the only letter not used in both is the letter T! As in tea! A tea is going to come in handy. Even the word eat is just an anagram for tea! Itâ€™s all starting to make sense to me now! Itâ€™s all fitting together like the pieces of childâ€™s jigsaw! Remember the plagues on Egypt? One of those must be a clue, but which one!? For this, we need to go back to original illuminati ideas, the eye and the triangle. What number do they have in common? 3, of course! A triangle has three sides! If you asked someone to draw a shape and",
		}

		out, err := service.Register(context.Background(), input)

		assert.NotNil(t, err)
		assert.ErrorIs(t, err, user.ErrRegisterFailedToHashPassword)
		assert.Empty(t, out)
	})

	t.Run("should respond with email already registered", func(t *testing.T) {
		input := user.RegisterRequest{
			Name:     "M. Iqbal Effendi",
			Email:    "iqbaleff214@gmail.com",
			Password: "newpassword",
		}

		repository.
			On("Login", mock.Anything, input.Email).
			Return(user.User{}, nil).
			Once()

		out, err := service.Register(context.Background(), input)

		assert.NotNil(t, err)
		assert.ErrorIs(t, err, user.ErrRegisterAccountAlreadyExists)
		assert.Empty(t, out)
	})

	t.Run("should failed to registered new account", func(t *testing.T) {
		input := user.RegisterRequest{
			Name:     "M. Iqbal Effendi",
			Email:    "iqbaleff214@gmail.com",
			Password: "newpassword",
		}

		account := user.User{
			ID:        12,
			Name:      input.Name,
			Username:  input.Email,
			Email:     input.Email,
			Password:  "",
			CreatedAt: time.Now(),
			UpdatedAt: time.Now(),
		}

		repository.
			On("Login", mock.Anything, input.Email).
			Return(account, sql.ErrNoRows).
			Once()
		repository.
			On("Register", mock.Anything, mock.Anything).
			Return(account, user.ErrRegisterFailedToRegisterAccount).
			Once()

		out, err := service.Register(context.Background(), input)

		assert.NotNil(t, err)
		assert.ErrorIs(t, err, user.ErrRegisterFailedToRegisterAccount)
		assert.Empty(t, out)
	})

	t.Run("should success", func(t *testing.T) {
		input := user.RegisterRequest{
			Name:     "M. Iqbal Effendi",
			Email:    "iqbaleff214@gmail.com",
			Password: "newpassword",
		}

		account := user.User{
			ID:        12,
			Name:      input.Name,
			Username:  input.Email,
			Email:     input.Email,
			Password:  "",
			CreatedAt: time.Now(),
			UpdatedAt: time.Now(),
		}

		repository.
			On("Login", mock.Anything, input.Email).
			Return(account, sql.ErrNoRows).
			Once()
		repository.
			On("Register", mock.Anything, mock.Anything).
			Return(account, nil).
			Once()

		out, err := service.Register(context.Background(), input)

		assert.Nil(t, err)
		assert.NotEmpty(t, out)
		assert.Equal(t, account.ID, out.ID)
		assert.Equal(t, account.Name, out.Name)
		assert.Equal(t, account.Email, out.Email)
		assert.Equal(t, account.Username, out.Username)
		assert.NotEmpty(t, out.Token)
	})
}
